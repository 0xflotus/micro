(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-586561b4"],{"28a5":function(e,t,n){"use strict";var i=n("aae3"),a=n("cb7c"),r=n("ebd6"),c=n("0390"),s=n("9def"),o=n("5f1b"),l=n("520a"),u=n("79e5"),d=Math.min,h=[].push,f="split",v="length",p="lastIndex",g=4294967295,b=!u(function(){RegExp(g,"y")});n("214f")("split",2,function(e,t,n,u){var m;return m="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[v]||2!="ab"[f](/(?:ab)*/)[v]||4!="."[f](/(.?)(.?)/)[v]||"."[f](/()()/)[v]>1||""[f](/.?/)[v]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!i(e))return n.call(a,e,t);var r,c,s,o=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?g:t>>>0,b=new RegExp(e.source,u+"g");while(r=l.call(b,a)){if(c=b[p],c>d&&(o.push(a.slice(d,r.index)),r[v]>1&&r.index<a[v]&&h.apply(o,r.slice(1)),s=r[0][v],d=c,o[v]>=f))break;b[p]===r.index&&b[p]++}return d===a[v]?!s&&b.test("")||o.push(""):o.push(a.slice(d)),o[v]>f?o.slice(0,f):o}:"0"[f](void 0,0)[v]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,i){var a=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,a,i):m.call(String(a),n,i)},function(e,t){var i=u(m,e,this,t,m!==n);if(i.done)return i.value;var l=a(e),h=String(this),f=r(l,RegExp),v=l.unicode,p=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),x=new f(b?l:"^(?:"+l.source+")",p),y=void 0===t?g:t>>>0;if(0===y)return[];if(0===h.length)return null===o(x,h)?[h]:[];var j=0,S=0,w=[];while(S<h.length){x.lastIndex=b?S:0;var k,O=o(x,b?h:h.slice(S));if(null===O||(k=d(s(x.lastIndex+(b?0:S)),h.length))===j)S=c(h,S,v);else{if(w.push(h.slice(j,S)),w.length===y)return w;for(var T=1;T<=O.length-1;T++)if(w.push(O[T]),w.length===y)return w;S=j=k}}return w.push(h.slice(j)),w}]})},"4f37":function(e,t,n){"use strict";n("aa77")("trim",function(e){return function(){return e(this,3)}})},"84f8":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"90%",height:e.height}},[n("v-card-title",{staticClass:"pt-0 pb-0"},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.handleFullScreen}},[n("v-icon",[e._v("fullscreen")])],1)],1),n("v-card-text",{staticClass:"pt-0"},[n("div",{attrs:{id:"shell"}})])],1)},a=[],r=n("f499"),c=n.n(r),s=(n("7f7f"),n("4f37"),n("28a5"),n("d225")),o=n("b0b4"),l=n("308d"),u=n("6bb5"),d=n("4e2b"),h=n("9ab4"),f=n("60a3"),v=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.height="500px",e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){}},{key:"mounted",value:function(){this.height=.8*window.innerHeight+"px",this.renderTerminal()}},{key:"renderTerminal",value:function(){var e=this;window.jQuery.terminal?jQuery(function(t,n){t("#shell").terminal(function(i,a){if(""!=i){var r="COMMANDS:\n    exit        exit fullscreen\n    call        Call a service endpoint using rpc\n    health      Query the health of a service\n    list        List items in registry\n    get         Get item from registry\n";try{var s=i.trim().split(/\s+/);switch(s[0]){case"exit":e.$xools.toggleFullScreen("shell");break;case"help":a.echo(r);break;case"list":if(1==s.length||"services"!=s[1])return void a.echo("COMMANDS:\n    services    List services in registry\n");t.ajax({dataType:"json",contentType:"application/json",url:"api/v1/services",data:{},success:function(e){for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n].name);a.echo(t.join("\n"))}});break;case"get":if(s.length<3||"service"!=s[1])return void a.echo("COMMANDS:\n    service    Get service from registry\n");t.ajax({dataType:"json",contentType:"application/json",url:"api/v1/service/"+s[2],data:{},success:function(e){if(0!=e.data.length){a.echo("service\t"+s[2]),a.echo(" ");for(var i={},r=0;r<e.data.length;r++){var c=e.data[r];a.echo("\nversion "+c.version),a.echo(" "),a.echo("Id\tAddress\tPort\tMetadata\n");for(var o=function(e){var n=c.nodes[e],i=[];t.each(n.metadata,function(e,t){i.push(e+"="+t)}),a.echo(n.id+"\t"+n.address+"\t"+n.port+"\t"+i.join(","))},l=0;l<c.nodes.length;l++)o(l);a.echo(" ");for(var u=0;c.endpoints&&u<c.endpoints.length;u++)i[c.endpoints[u].name]==n&&(i[c.endpoints[u].name]=c.endpoints[u])}t.each(i,function(e,n){a.echo("Endpoint: "+e);var i=[];t.each(n.metadata,function(e,t){i.push(e+"="+t)}),a.echo("Metadata: "+i.join(","))})}}});break;case"health":if(s.length<2)return void a.echo("USAGE:\n    health [service]");t.ajax({dataType:"json",contentType:"application/json",url:"api/v1/service/"+s[1],data:{},success:function(e){a.echo("service\t"+s[1]),a.echo(" ");for(var n=0;n<e.data.length;n++){var i=e.data[n];a.echo("\nversion "+i.version),a.echo(" "),a.echo("Id\tAddress:Port\tStatus\n");for(var r=0;r<i.nodes.length;r++){var c=i.nodes[r];t.ajax({dataType:"json",url:"api/v1/health",data:{service:i.name,address:c.address+":"+c.port},success:function(e){a.echo(c.id+"\t"+c.address+":"+c.port+"\t"+e.data.status)},error:function(e){a.echo(c.id+"\t"+c.address+":"+c.port+"\t"+e.data.status)}})}a.echo(" ")}}});break;case"call":if(s.length<3)return void a.echo("USAGE:\n    call [service] [endpoint] [request]");var o="{}";s.length>3&&(o=s.slice(3).join(" ")),t.ajax({method:"post",endpoint:"POST",dataType:"json",contentType:"application/json",url:"api/v1/rpc",data:c()({service:s[1],endpoint:s[2],request:o}),success:function(e){a.echo(c()(e,null,2))}});break;default:a.echo(i+": command not found"),a.echo(r)}}catch(l){a.error(new String(l))}}else a.echo("")},{greetings:"",name:"micro_cli",height:500,prompt:"micro:~$ "})}):setTimeout(this.renderTerminal,500)}},{key:"handleFullScreen",value:function(){this.$xools.toggleFullScreen("shell")}}]),t}(f["c"]);v=h["a"]([Object(f["a"])({components:{}})],v);var p=v,g=p,b=n("2877"),m=Object(b["a"])(g,i,a,!1,null,null,null);t["default"]=m.exports},a21f:function(e,t,n){var i=n("584a"),a=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},aa77:function(e,t,n){var i=n("5ca1"),a=n("be13"),r=n("79e5"),c=n("fdef"),s="["+c+"]",o="​",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(e,t,n){var a={},s=r(function(){return!!c[e]()||o[e]()!=o}),l=a[e]=s?t(h):c[e];n&&(a[n]=l),i(i.P+i.F*s,"String",a)},h=d.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},aae3:function(e,t,n){var i=n("d3f4"),a=n("2d95"),r=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==a(e))}},ebd6:function(e,t,n){var i=n("cb7c"),a=n("d8e8"),r=n("2b4c")("species");e.exports=function(e,t){var n,c=i(e).constructor;return void 0===c||void 0==(n=i(c)[r])?t:a(n)}},f499:function(e,t,n){e.exports=n("a21f")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-586561b4.d612635b.js.map